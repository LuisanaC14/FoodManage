<div class="sidebar-wrapper" style="background: #111; border: 1px solid #333; padding: 25px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.5);">
    
    <div class="sidebar-widget mb-4">
        <div class="input-group">
            <input type="text" id="searchInput" class="form-control" placeholder="Buscar plato..." 
                   style="background: #000; border: 1px solid #444; color: #fff; border-radius: 8px 0 0 8px;">
            <button class="btn" type="button" onclick="searchMenu()" 
                    style="background: #ccff00; color: #000; font-weight: bold; border-radius: 0 8px 8px 0;">
                <i class="fas fa-search"></i>
            </button>
        </div>
    </div>

    <div class="sidebar-widget mb-4">
        <h5 class="widget-title" style="color: #fff; font-weight: 800; text-transform: uppercase; font-size: 1.1rem; border-left: 4px solid #ccff00; padding-left: 10px; margin-bottom: 20px;">
            Nuestro Menú
        </h5>
        <ul class="list-unstyled">
            <li class="mb-2">
                <a href="javascript:void(0)" onclick="filterMenu('todos', this)" class="cat-link active d-flex justify-content-between align-items-center text-decoration-none py-2" style="border-bottom: 1px solid #222; color: #aaa; transition: 0.3s;">
                    <span><i class="fas fa-utensils me-2"></i>Todo</span>
                    <span class="badge bg-dark text-white rounded-pill">{{ conteos.total }}</span>
                </a>
            </li>

            <li class="mb-2">
                <a href="javascript:void(0)" onclick="filterMenu('arroz', this)" class="cat-link d-flex justify-content-between align-items-center text-decoration-none py-2" style="border-bottom: 1px solid #222; color: #aaa; transition: 0.3s;">
                    <span><i class="fas fa-bowl-rice me-2"></i>Arroces</span>
                    <span class="badge bg-dark text-white rounded-pill">{{ conteos.arroz }}</span>
                </a>
            </li>

            <li class="mb-2">
                <a href="javascript:void(0)" onclick="filterMenu('sopa', this)" class="cat-link d-flex justify-content-between align-items-center text-decoration-none py-2" style="border-bottom: 1px solid #222; color: #aaa; transition: 0.3s;">
                    <span><i class="fas fa-bowl-food me-2"></i>Sopas</span>
                    <span class="badge bg-dark text-white rounded-pill">{{ conteos.sopa }}</span>
                </a>
            </li>

            <li class="mb-2">
                <a href="javascript:void(0)" onclick="filterMenu('porcion', this)" class="cat-link d-flex justify-content-between align-items-center text-decoration-none py-2" style="border-bottom: 1px solid #222; color: #aaa; transition: 0.3s;">
                    <span><i class="fas fa-drumstick-bite me-2"></i>Porciones</span>
                    <span class="badge bg-dark text-white rounded-pill">{{ conteos.porcion }}</span>
                </a>
            </li>

            <li class="mb-2">
                <a href="javascript:void(0)" onclick="filterMenu('bebida', this)" class="cat-link d-flex justify-content-between align-items-center text-decoration-none py-2" style="border-bottom: 1px solid #222; color: #aaa; transition: 0.3s;">
                    <span><i class="fas fa-cocktail me-2"></i>Bebidas</span>
                    <span class="badge bg-dark text-white rounded-pill">{{ conteos.bebida }}</span>
                </a>
            </li>

            <li class="mb-2">
                <a href="javascript:void(0)" onclick="filterMenu('extra', this)" class="cat-link d-flex justify-content-between align-items-center text-decoration-none py-2" style="border-bottom: 1px solid #222; color: #aaa; transition: 0.3s;">
                    <span><i class="fas fa-plus-circle me-2"></i>Extras</span>
                    <span class="badge bg-dark text-white rounded-pill">{{ conteos.extra }}</span>
                </a>
            </li>


        </ul>
    </div>

    <div class="sidebar-widget mb-4">
        <h5 class="widget-title" style="color: #fff; font-weight: 800; text-transform: uppercase; font-size: 1.1rem; border-left: 4px solid #ccff00; padding-left: 10px; margin-bottom: 20px;">
            Rango de Precio
        </h5>
        <div class="mt-3">
            <input type="range" class="form-range" min="5" max="50" step="1" id="priceRange" oninput="updatePriceLabel(this.value)" 
                   style="accent-color: #ccff00;">
            <div class="d-flex justify-content-between align-items-center mt-2">
                <span class="text-white small">Max: $<span id="priceValue" style="color: #ccff00; font-weight: bold;">50</span></span>
                <button class="btn btn-sm" onclick="filterByPrice()" style="border: 1px solid #ccff00; color: #ccff00; border-radius: 20px; font-size: 0.7rem;">FILTRAR</button>
            </div>
        </div>
    </div>

</div>

<style>
    .cat-link:hover, .cat-link.active { color: #ccff00 !important; padding-left: 5px; }
    .cat-link:hover .badge, .cat-link.active .badge { background: #ccff00 !important; color: #000 !important; }
    .tag-item:hover { background: #ccff00 !important; color: #000 !important; border-color: #ccff00 !important; }
</style>

<script>
    // Script para actualizar el texto del precio
    function updatePriceLabel(val) {
        document.getElementById('priceValue').innerText = val;
    }
    
    // Script básico para filtrar por precio (Front-end)
    function filterByPrice() {
        let maxPrice = document.getElementById('priceRange').value;
        document.querySelectorAll('.menu-item').forEach(item => {
            // Asumiendo que añades un atributo data-price a tus productos
            let itemPrice = parseFloat(item.dataset.price || 0);
            if(itemPrice <= maxPrice) item.style.display = 'block';
            else item.style.display = 'none';
        });
    }

    // Buscador simple
    function searchMenu() {
        let text = document.getElementById('searchInput').value.toLowerCase();
        document.querySelectorAll('.menu-item').forEach(item => {
            let name = item.querySelector('h5') ? item.querySelector('h5').innerText.toLowerCase() : "";
            if(name.includes(text)) item.style.display = 'block';
            else item.style.display = 'none';
        });
    }
</script>